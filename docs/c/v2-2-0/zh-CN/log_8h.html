<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>stumpless: stumpless/log.h 文件参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">stumpless<span id="projectnumber">&#160;2.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','搜索',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('log_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">函数</a>  </div>
  <div class="headertitle"><div class="title">log.h 文件参考</div></div>
</div><!--header-->
<div class="contents">

<p>Convenience functions for creating and writing simple log entries.  
<a href="#details">更多...</a></p>

<p><a href="log_8h_source.html">浏览该文件的源代码.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:a2c81e0ae3ce13cd81ee7a464bfb1d751" id="r_a2c81e0ae3ce13cd81ee7a464bfb1d751"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c81e0ae3ce13cd81ee7a464bfb1d751">stump</a> (const char *message,...)</td></tr>
<tr class="memdesc:a2c81e0ae3ce13cd81ee7a464bfb1d751"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs a message to the default target.  <br /></td></tr>
<tr class="separator:a2c81e0ae3ce13cd81ee7a464bfb1d751"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a548e82fca3e5a8d03e0e995e6976559e" id="r_a548e82fca3e5a8d03e0e995e6976559e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a548e82fca3e5a8d03e0e995e6976559e">stump_str</a> (const char *message)</td></tr>
<tr class="memdesc:a548e82fca3e5a8d03e0e995e6976559e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs a message to the default target.  <br /></td></tr>
<tr class="separator:a548e82fca3e5a8d03e0e995e6976559e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5268c8a4576d610666624a5371ef166f" id="r_a5268c8a4576d610666624a5371ef166f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5268c8a4576d610666624a5371ef166f">stump_trace</a> (const char *file, int line, const char *func, const char *message,...)</td></tr>
<tr class="memdesc:a5268c8a4576d610666624a5371ef166f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs a message to the default target, along with the file, line, and function information specified in a structured data element.  <br /></td></tr>
<tr class="separator:a5268c8a4576d610666624a5371ef166f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eb630f0fd1de06b8c7f41c6382070dc" id="r_a8eb630f0fd1de06b8c7f41c6382070dc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8eb630f0fd1de06b8c7f41c6382070dc">stump_trace_str</a> (const char *file, int line, const char *func, const char *message)</td></tr>
<tr class="memdesc:a8eb630f0fd1de06b8c7f41c6382070dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs a message to the default target, along with the file, line, and function information specified in a structured data element.  <br /></td></tr>
<tr class="separator:a8eb630f0fd1de06b8c7f41c6382070dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a020475261f73fba86caa8bb1f3d7f4df" id="r_a020475261f73fba86caa8bb1f3d7f4df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a020475261f73fba86caa8bb1f3d7f4df">stumplog</a> (int priority, const char *message,...)</td></tr>
<tr class="memdesc:a020475261f73fba86caa8bb1f3d7f4df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs a message to the current target with the given priority.  <br /></td></tr>
<tr class="separator:a020475261f73fba86caa8bb1f3d7f4df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb4b39e0788ce99ceafc83b0176b1495" id="r_abb4b39e0788ce99ceafc83b0176b1495"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abb4b39e0788ce99ceafc83b0176b1495">stumplog_set_mask</a> (int mask)</td></tr>
<tr class="memdesc:abb4b39e0788ce99ceafc83b0176b1495"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the log mask of the current target.  <br /></td></tr>
<tr class="separator:abb4b39e0788ce99ceafc83b0176b1495"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3178cbf34f9ae41a043c8dbd52634387" id="r_a3178cbf34f9ae41a043c8dbd52634387"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3178cbf34f9ae41a043c8dbd52634387">stumplog_str</a> (int priority, const char *message)</td></tr>
<tr class="memdesc:a3178cbf34f9ae41a043c8dbd52634387"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs a message to the current target with the given priority.  <br /></td></tr>
<tr class="separator:a3178cbf34f9ae41a043c8dbd52634387"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81cedeb5a6418883cca295e6caf3316e" id="r_a81cedeb5a6418883cca295e6caf3316e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a81cedeb5a6418883cca295e6caf3316e">stumplog_trace</a> (int priority, const char *file, int line, const char *func, const char *message,...)</td></tr>
<tr class="memdesc:a81cedeb5a6418883cca295e6caf3316e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs a message to the default target with the given priority, along with the file, line, and function information specified in a structured data element.  <br /></td></tr>
<tr class="separator:a81cedeb5a6418883cca295e6caf3316e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01913cf5f07e4f228a1719ba51acc4d6" id="r_a01913cf5f07e4f228a1719ba51acc4d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a01913cf5f07e4f228a1719ba51acc4d6">stumplog_trace_str</a> (int priority, const char *file, int line, const char *func, const char *message)</td></tr>
<tr class="memdesc:a01913cf5f07e4f228a1719ba51acc4d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs a message to the default target with the given priority, along with the file, line, and function information specified in a structured data element.  <br /></td></tr>
<tr class="separator:a01913cf5f07e4f228a1719ba51acc4d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02f3968128fa180088368881e96074bb" id="r_a02f3968128fa180088368881e96074bb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a02f3968128fa180088368881e96074bb">vstump</a> (const char *message, va_list subs)</td></tr>
<tr class="memdesc:a02f3968128fa180088368881e96074bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs a message to the default target.  <br /></td></tr>
<tr class="separator:a02f3968128fa180088368881e96074bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac39a8730aa558b2123d7b4b276a0544a" id="r_ac39a8730aa558b2123d7b4b276a0544a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac39a8730aa558b2123d7b4b276a0544a">vstump_trace</a> (const char *file, int line, const char *func, const char *message, va_list subs)</td></tr>
<tr class="memdesc:ac39a8730aa558b2123d7b4b276a0544a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs a message to the default target, along with the file, line, and function information specified in a structured data element.  <br /></td></tr>
<tr class="separator:ac39a8730aa558b2123d7b4b276a0544a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3ad35a684b4d4cdcac9eefa36c459c5" id="r_aa3ad35a684b4d4cdcac9eefa36c459c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa3ad35a684b4d4cdcac9eefa36c459c5">vstumplog</a> (int priority, const char *message, va_list subs)</td></tr>
<tr class="memdesc:aa3ad35a684b4d4cdcac9eefa36c459c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs a message to the default target with the given priority.  <br /></td></tr>
<tr class="separator:aa3ad35a684b4d4cdcac9eefa36c459c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3218c7faf072dd06cb3cfb1695e3e94b" id="r_a3218c7faf072dd06cb3cfb1695e3e94b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3218c7faf072dd06cb3cfb1695e3e94b">vstumplog_trace</a> (int priority, const char *file, int line, const char *func, const char *message, va_list subs)</td></tr>
<tr class="memdesc:a3218c7faf072dd06cb3cfb1695e3e94b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs a message to the default target with the given priority, along with the file, line, and function information specified in a structured data element.  <br /></td></tr>
<tr class="separator:a3218c7faf072dd06cb3cfb1695e3e94b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>Convenience functions for creating and writing simple log entries. </p>
</div><h2 class="groupheader">函数说明</h2>
<a id="a2c81e0ae3ce13cd81ee7a464bfb1d751" name="a2c81e0ae3ce13cd81ee7a464bfb1d751"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c81e0ae3ce13cd81ee7a464bfb1d751">&#9670;&#160;</a></span>stump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stump </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>message</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs a message to the default target. </p>
<p>The message must be a valid format specifier string provided along with the appropriate number of variable arguments afterwards. This means that it should not be a user-controlled value under any circumstances. If you need a safer alternative without the risks of format strings, use <a class="el" href="#a548e82fca3e5a8d03e0e995e6976559e" title="Logs a message to the default target.">stump_str()</a> instead.</p>
<p><b>Thread Safety: MT-Safe env locale</b> This function is thread safe. Different target types handle thread safety differently, as some require per-target locks and others can rely on system libraries to log safely, but all targets support thread safe logging in some manner. For target-specific information on how thread safety is supported and whether AS or AC safety can be assumed, refer to the documentation for the target's header file (in the <code>stumpless/target</code> include folder). For all targets, the environment variables and locale will be used during some of the string formatting of the message.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers as some targets make use of non-reentrant locks to coordinate access. It also may make memory allocation calls to create internal cached structures, and memory allocation may not be signal safe.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of locks in some targets that could be left locked and the potential for memory allocation.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The message to log, optionally containing any format specifiers valid in <code>printf</code>. This must be a valid UTF-8 string in shortest form.</td></tr>
    <tr><td class="paramname">...</td><td>Substitutions for any format specifiers provided in message. The number of substitutions provided must exactly match the number of specifiers given.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>A non-negative value if no error is encountered. If an error is encountered, then a negative value is returned and an error code is set appropriately. If the entry was rejected by the target's filter, then 0 is returned. </dd></dl>
<dl class="section examples"><dt>示例</dt><dd><a class="el" href="basic_example_8c-example.html#a2">basic_example.c</a>.</dd>
</dl>

</div>
</div>
<a id="a548e82fca3e5a8d03e0e995e6976559e" name="a548e82fca3e5a8d03e0e995e6976559e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a548e82fca3e5a8d03e0e995e6976559e">&#9670;&#160;</a></span>stump_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stump_str </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>message</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs a message to the default target. </p>
<p><b>Thread Safety: MT-Safe env locale</b> This function is thread safe. Different target types handle thread safety differently, as some require per-target locks and others can rely on system libraries to log safely, but all targets support thread safe logging in some manner. For target-specific information on how thread safety is supported and whether AS or AC safety can be assumed, refer to the documentation for the target's header file (in the <code>stumpless/target</code> include folder). For all targets, the environment variables and locale will be used during some of the string formatting of the message.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers as some targets make use of non-reentrant locks to coordinate access. It also may make memory allocation calls to create internal cached structures, and memory allocation may not be signal safe.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of locks in some targets that could be left locked and the potential for memory allocation.</p>
<dl class="section since"><dt>自从</dt><dd>release v2.1.0</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The message to log. This must be a valid UTF-8 string in shortest form.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>A non-negative value if no error is encountered. If an error is encountered, then a negative value is returned and an error code is set appropriately. If the entry was rejected by the target's filter, then 0 is returned. </dd></dl>
<dl class="section examples"><dt>示例</dt><dd><a class="el" href="basic_example_8c-example.html#a3">basic_example.c</a>.</dd>
</dl>

</div>
</div>
<a id="a5268c8a4576d610666624a5371ef166f" name="a5268c8a4576d610666624a5371ef166f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5268c8a4576d610666624a5371ef166f">&#9670;&#160;</a></span>stump_trace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stump_trace </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>func</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>message</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs a message to the default target, along with the file, line, and function information specified in a structured data element. </p>
<p>The trace information is added in an element named <code>trace</code> with params named <code>file</code>, <code>line</code>, and <code>function</code> for the respective pieces of information.</p>
<p>The message must be a valid format specifier string provided along with the appropriate number of variable arguments afterwards. This means that it should not be a user-controlled value under any circumstances. If you need a safer alternative without the risks of format strings, use <code>stump_trace_str</code> instead.</p>
<p><b>Thread Safety: MT-Safe env locale</b> This function is thread safe. Different target types handle thread safety differently, as some require per-target locks and others can rely on system libraries to log safely, but all targets support thread safe logging in some manner. For target-specific information on how thread safety is supported and whether AS or AC safety can be assumed, refer to the documentation for the target's header file (in the <code>stumpless/target</code> include folder). For all targets, the environment variables and locale will be used during some of the string formatting of the message.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers as some targets make use of non-reentrant locks to coordinate access. It also may make memory allocation calls to create internal cached structures, and memory allocation may not be signal safe.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of locks in some targets that could be left locked and the potential for memory allocation.</p>
<dl class="section since"><dt>自从</dt><dd>release v2.1.0</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>The name of the source file the message should be tied to.</td></tr>
    <tr><td class="paramname">line</td><td>The line in the source file that the message should be tied to.</td></tr>
    <tr><td class="paramname">func</td><td>The name of the function that the message should be tied to.</td></tr>
    <tr><td class="paramname">message</td><td>The message to log, optionally containing any format specifiers valid in <code>printf</code>. This must be a valid UTF-8 string in shortest form.</td></tr>
    <tr><td class="paramname">...</td><td>Substitutions for any format specifiers provided in message. The number of substitutions provided must exactly match the number of specifiers given.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>A non-negative value if no error is encountered. If an error is encountered, then a negative value is returned and an error code is set appropriately. If the entry was rejected by the target's filter, then 0 is returned. </dd></dl>

</div>
</div>
<a id="a8eb630f0fd1de06b8c7f41c6382070dc" name="a8eb630f0fd1de06b8c7f41c6382070dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8eb630f0fd1de06b8c7f41c6382070dc">&#9670;&#160;</a></span>stump_trace_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stump_trace_str </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>func</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs a message to the default target, along with the file, line, and function information specified in a structured data element. </p>
<p>The trace information is added in an element named <code>trace</code> with params named <code>file</code>, <code>line</code>, and <code>function</code> for the respective pieces of information.</p>
<p><b>Thread Safety: MT-Safe env locale</b> This function is thread safe. Different target types handle thread safety differently, as some require per-target locks and others can rely on system libraries to log safely, but all targets support thread safe logging in some manner. For target-specific information on how thread safety is supported and whether AS or AC safety can be assumed, refer to the documentation for the target's header file (in the <code>stumpless/target</code> include folder). For all targets, the environment variables and locale will be used during some of the string formatting of the message.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers as some targets make use of non-reentrant locks to coordinate access. It also may make memory allocation calls to create internal cached structures, and memory allocation may not be signal safe.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of locks in some targets that could be left locked and the potential for memory allocation.</p>
<dl class="section since"><dt>自从</dt><dd>release v2.1.0</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>The name of the source file the message should be tied to.</td></tr>
    <tr><td class="paramname">line</td><td>The line in the source file that the message should be tied to.</td></tr>
    <tr><td class="paramname">func</td><td>The name of the function that the message should be tied to.</td></tr>
    <tr><td class="paramname">message</td><td>The message to log. This must be a valid UTF-8 string in shortest form.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>A non-negative value if no error is encountered. If an error is encountered, then a negative value is returned and an error code is set appropriately. If the entry was rejected by the target's filter, then 0 is returned. </dd></dl>

</div>
</div>
<a id="a020475261f73fba86caa8bb1f3d7f4df" name="a020475261f73fba86caa8bb1f3d7f4df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a020475261f73fba86caa8bb1f3d7f4df">&#9670;&#160;</a></span>stumplog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stumplog </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>priority</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>message</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs a message to the current target with the given priority. </p>
<p>This function can serve as a replacement for the traditional <code>syslog</code> function.</p>
<p>For detailed information on what the current target will be for a given system, check the <a class="el" href="target_8h.html#a247739f99f8019b7f20c3aa56392b064" title="Gets the current target.">stumpless_get_current_target()</a> function documentation.</p>
<p>The message must be a valid format specifier string provided along with the appropriate number of variable arguments afterwards. This means that it should not be a user-controlled value under any circumstances. If you need a safer alternative without the risks of format strings, use <code>stumplog_str</code> instead.</p>
<p><b>Thread Safety: MT-Safe env locale</b> This function is thread safe. Different target types handle thread safety differently, as some require per-target locks and others can rely on system libraries to log safely, but all targets support thread safe logging in some manner. For target-specific information on how thread safety is supported and whether AS or AC safety can be assumed, refer to the documentation for the target's header file (in the <code>stumpless/target</code> include folder). For all targets, the environment variables and locale will be used during some of the string formatting of the message.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers as some targets make use of non-reentrant locks to coordinate access. It also may make memory allocation calls to create internal cached structures, and memory allocation may not be signal safe.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of locks in some targets that could be left locked and the potential for memory allocation.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">priority</td><td>The priority of the message - this should be the bitwise or of a single STUMPLESS_SEVERITY and single STUMPLESS_FACILITY value.</td></tr>
    <tr><td class="paramname">message</td><td>The message to log, optionally containing any format specifiers valid in <code>printf</code>. This must be a valid UTF-8 string in shortest form.</td></tr>
    <tr><td class="paramname">...</td><td>Substitutions for any format specifiers provided in message. The number of substitutions provided must exactly match the number of specifiers given. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abb4b39e0788ce99ceafc83b0176b1495" name="abb4b39e0788ce99ceafc83b0176b1495"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb4b39e0788ce99ceafc83b0176b1495">&#9670;&#160;</a></span>stumplog_set_mask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stumplog_set_mask </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>mask</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the log mask of the current target. </p>
<p>The mask is a bit field of severities that this target will allow if the default mask-based filter is in use. These can be formed and checked using the STUMPLESS_SEVERITY_MASK and STUMPLESS_SEVERITY_MASK_UPTO macros, and combining them using bitwise or operations.</p>
<p>This function can serve as a replacement for the traditional <code>setlogmask</code> function.</p>
<p>For detailed information on what the current target will be for a given system, check the <a class="el" href="target_8h.html#a247739f99f8019b7f20c3aa56392b064" title="Gets the current target.">stumpless_get_current_target()</a> function documentation.</p>
<p><b>Thread Safety: MT-Safe</b> This function is thread safe. A mutex is used to coordinate changes to the target while it is being modified.</p>
<p><b>Async Signal Safety: AS-Unsafe lock</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate changes.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked.</p>
<dl class="section since"><dt>自从</dt><dd>release v2.1.0</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">mask</td><td>The mask to use with the target.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>The previous mask that was in use on the current target. If the mask could not be retrieved, 0 is returned and an error code is set appropriately. </dd></dl>

</div>
</div>
<a id="a3178cbf34f9ae41a043c8dbd52634387" name="a3178cbf34f9ae41a043c8dbd52634387"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3178cbf34f9ae41a043c8dbd52634387">&#9670;&#160;</a></span>stumplog_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stumplog_str </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>priority</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs a message to the current target with the given priority. </p>
<p>This function can serve as a replacement for the traditional <code>syslog</code> function.</p>
<p>For detailed information on what the current target will be for a given system, check the <a class="el" href="target_8h.html#a247739f99f8019b7f20c3aa56392b064" title="Gets the current target.">stumpless_get_current_target()</a> function documentation.</p>
<p><b>Thread Safety: MT-Safe env locale</b> This function is thread safe. Different target types handle thread safety differently, as some require per-target locks and others can rely on system libraries to log safely, but all targets support thread safe logging in some manner. For target-specific information on how thread safety is supported and whether AS or AC safety can be assumed, refer to the documentation for the target's header file (in the <code>stumpless/target</code> include folder). For all targets, the environment variables and locale will be used during some of the string formatting of the message.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers as some targets make use of non-reentrant locks to coordinate access. It also may make memory allocation calls to create internal cached structures, and memory allocation may not be signal safe.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of locks in some targets that could be left locked and the potential for memory allocation.</p>
<dl class="section since"><dt>自从</dt><dd>release v2.1.0</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">priority</td><td>The priority of the message - this should be the bitwise or of a single STUMPLESS_SEVERITY and single STUMPLESS_FACILITY value.</td></tr>
    <tr><td class="paramname">message</td><td>The message to log. This must be a valid UTF-8 string in shortest form. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a81cedeb5a6418883cca295e6caf3316e" name="a81cedeb5a6418883cca295e6caf3316e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81cedeb5a6418883cca295e6caf3316e">&#9670;&#160;</a></span>stumplog_trace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stumplog_trace </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>priority</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>func</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>message</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs a message to the default target with the given priority, along with the file, line, and function information specified in a structured data element. </p>
<p>The trace information is added in an element named <code>trace</code> with params named <code>file</code>, <code>line</code>, and <code>function</code> for the respective pieces of information.</p>
<p>This function can serve as a replacement for the traditional <code>syslog</code> function.</p>
<p>For detailed information on what the default target will be for a given system, check the <a class="el" href="target_8h.html#a2f3182c5be6e3abd36759a3b00abf364" title="Gets the default target.">stumpless_get_default_target()</a> function documentation.</p>
<p>The message must be a valid format specifier string provided along with the appropriate number of variable arguments afterwards. This means that it should not be a user-controlled value under any circumstances. If you need a safer alternative without the risks of format strings, use <a class="el" href="#a01913cf5f07e4f228a1719ba51acc4d6" title="Logs a message to the default target with the given priority, along with the file,...">stumplog_trace_str()</a> instead.</p>
<p><b>Thread Safety: MT-Safe env locale</b> This function is thread safe. Different target types handle thread safety differently, as some require per-target locks and others can rely on system libraries to log safely, but all targets support thread safe logging in some manner. For target-specific information on how thread safety is supported and whether AS or AC safety can be assumed, refer to the documentation for the target's header file (in the <code>stumpless/target</code> include folder). For all targets, the environment variables and locale will be used during some of the string formatting of the message.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers as some targets make use of non-reentrant locks to coordinate access. It also may make memory allocation calls to create internal cached structures, and memory allocation may not be signal safe.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of locks in some targets that could be left locked and the potential for memory allocation.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">priority</td><td>The priority of the message - this should be the bitwise or of a single STUMPLESS_SEVERITY and single STUMPLESS_FACILITY value.</td></tr>
    <tr><td class="paramname">file</td><td>The name of the source file the entry should be tied to.</td></tr>
    <tr><td class="paramname">line</td><td>The line in the source file that the entry should be tied to.</td></tr>
    <tr><td class="paramname">func</td><td>The name of the function that the entry should be tied to.</td></tr>
    <tr><td class="paramname">message</td><td>The message to log, optionally containing any format specifiers valid in <code>printf</code>. This must be a valid UTF-8 string in shortest form.</td></tr>
    <tr><td class="paramname">...</td><td>Substitutions for any format specifiers provided in message. The number of substitutions provided must exactly match the number of specifiers given. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a01913cf5f07e4f228a1719ba51acc4d6" name="a01913cf5f07e4f228a1719ba51acc4d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01913cf5f07e4f228a1719ba51acc4d6">&#9670;&#160;</a></span>stumplog_trace_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stumplog_trace_str </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>priority</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>func</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs a message to the default target with the given priority, along with the file, line, and function information specified in a structured data element. </p>
<p>The trace information is added in an element named <code>trace</code> with params named <code>file</code>, <code>line</code>, and <code>function</code> for the respective pieces of information.</p>
<p>This function can serve as a replacement for the traditional <code>syslog</code> function.</p>
<p>For detailed information on what the default target will be for a given system, check the <a class="el" href="target_8h.html#a2f3182c5be6e3abd36759a3b00abf364" title="Gets the default target.">stumpless_get_default_target()</a> function documentation.</p>
<p><b>Thread Safety: MT-Safe env locale</b> This function is thread safe. Different target types handle thread safety differently, as some require per-target locks and others can rely on system libraries to log safely, but all targets support thread safe logging in some manner. For target-specific information on how thread safety is supported and whether AS or AC safety can be assumed, refer to the documentation for the target's header file (in the <code>stumpless/target</code> include folder). For all targets, the environment variables and locale will be used during some of the string formatting of the message.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers as some targets make use of non-reentrant locks to coordinate access. It also may make memory allocation calls to create internal cached structures, and memory allocation may not be signal safe.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of locks in some targets that could be left locked and the potential for memory allocation.</p>
<dl class="section since"><dt>自从</dt><dd>release v2.1.0</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">priority</td><td>The priority of the message - this should be the bitwise or of a single STUMPLESS_SEVERITY and single STUMPLESS_FACILITY value.</td></tr>
    <tr><td class="paramname">file</td><td>The name of the source file the entry should be tied to.</td></tr>
    <tr><td class="paramname">line</td><td>The line in the source file that the entry should be tied to.</td></tr>
    <tr><td class="paramname">func</td><td>The name of the function that the entry should be tied to.</td></tr>
    <tr><td class="paramname">message</td><td>The message to log. This must be a valid UTF-8 string in shortest form. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a02f3968128fa180088368881e96074bb" name="a02f3968128fa180088368881e96074bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02f3968128fa180088368881e96074bb">&#9670;&#160;</a></span>vstump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vstump </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>message</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list</td>          <td class="paramname"><span class="paramname"><em>subs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs a message to the default target. </p>
<p><b>Thread Safety: MT-Safe env locale</b> This function is thread safe. Different target types handle thread safety differently, as some require per-target locks and others can rely on system libraries to log safely, but all targets support thread safe logging in some manner. For target-specific information on how thread safety is supported and whether AS or AC safety can be assumed, refer to the documentation for the target's header file (in the <code>stumpless/target</code> include folder). For all targets, the environment variables and locale will be used during some of the string formatting of the message.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers as some targets make use of non-reentrant locks to coordinate access. It also may make memory allocation calls to create internal cached structures, and memory allocation may not be signal safe.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of locks in some targets that could be left locked and the potential for memory allocation.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The message to log, optionally containing any format specifiers valid in <code>printf</code>.</td></tr>
    <tr><td class="paramname">subs</td><td>Substitutions for any format specifiers provided in message. The number of substitutions provided must exactly match the number of specifiers given. This list must be started via <code>va_start</code> before being used, and <code>va_end</code> should be called afterwards, as this function does not call it.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>A non-negative value if no error is encountered. If an error is encountered, then a negative value is returned and an error code is set appropriately. If the entry was rejected by the target's filter, then 0 is returned. </dd></dl>

</div>
</div>
<a id="ac39a8730aa558b2123d7b4b276a0544a" name="ac39a8730aa558b2123d7b4b276a0544a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac39a8730aa558b2123d7b4b276a0544a">&#9670;&#160;</a></span>vstump_trace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vstump_trace </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>func</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>message</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list</td>          <td class="paramname"><span class="paramname"><em>subs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs a message to the default target, along with the file, line, and function information specified in a structured data element. </p>
<p>The trace information is added in an element named <code>trace</code> with params named <code>file</code>, <code>line</code>, and <code>function</code> for the respective pieces of information.</p>
<p><b>Thread Safety: MT-Safe env locale</b> This function is thread safe. Different target types handle thread safety differently, as some require per-target locks and others can rely on system libraries to log safely, but all targets support thread safe logging in some manner. For target-specific information on how thread safety is supported and whether AS or AC safety can be assumed, refer to the documentation for the target's header file (in the <code>stumpless/target</code> include folder). For all targets, the environment variables and locale will be used during some of the string formatting of the message.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers as some targets make use of non-reentrant locks to coordinate access. It also may make memory allocation calls to create internal cached structures, and memory allocation may not be signal safe.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of locks in some targets that could be left locked and the potential for memory allocation.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>The name of the source file the message should be tied to.</td></tr>
    <tr><td class="paramname">line</td><td>The line in the source file that the message should be tied to.</td></tr>
    <tr><td class="paramname">func</td><td>The name of the function that the message should be tied to.</td></tr>
    <tr><td class="paramname">message</td><td>The message to log, optionally containing any format specifiers valid in <code>printf</code>.</td></tr>
    <tr><td class="paramname">subs</td><td>Substitutions for any format specifiers provided in message. The number of substitutions provided must exactly match the number of specifiers given. This list must be started via <code>va_start</code> before being used, and <code>va_end</code> should be called afterwards, as this function does not call it.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>A non-negative value if no error is encountered. If an error is encountered, then a negative value is returned and an error code is set appropriately. If the entry was rejected by the target's filter, then 0 is returned. </dd></dl>

</div>
</div>
<a id="aa3ad35a684b4d4cdcac9eefa36c459c5" name="aa3ad35a684b4d4cdcac9eefa36c459c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3ad35a684b4d4cdcac9eefa36c459c5">&#9670;&#160;</a></span>vstumplog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vstumplog </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>priority</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>message</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list</td>          <td class="paramname"><span class="paramname"><em>subs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs a message to the default target with the given priority. </p>
<p>Can serve as a replacement for the traditional <code>vsyslog</code> function.</p>
<p>For detailed information on what the default target will be for a given system, check the <a class="el" href="target_8h.html#a2f3182c5be6e3abd36759a3b00abf364" title="Gets the default target.">stumpless_get_default_target()</a> function documentation.</p>
<p><b>Thread Safety: MT-Safe env locale</b> This function is thread safe. Different target types handle thread safety differently, as some require per-target locks and others can rely on system libraries to log safely, but all targets support thread safe logging in some manner. For target-specific information on how thread safety is supported and whether AS or AC safety can be assumed, refer to the documentation for the target's header file (in the <code>stumpless/target</code> include folder). For all targets, the environment variables and locale will be used during some of the string formatting of the message.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers as some targets make use of non-reentrant locks to coordinate access. It also may make memory allocation calls to create internal cached structures, and memory allocation may not be signal safe.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of locks in some targets that could be left locked and the potential for memory allocation.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">priority</td><td>The priority of the message - this should be the bitwise or of a single STUMPLESS_SEVERITY and single STUMPLESS_FACILITY value.</td></tr>
    <tr><td class="paramname">message</td><td>The message to log, optionally containing any format specifiers valid in <code>printf</code>.</td></tr>
    <tr><td class="paramname">subs</td><td>Substitutions for any format specifiers provided in message. The number of substitutions provided must exactly match the number of specifiers given. This list must be started via <code>va_start</code> before being used, and <code>va_end</code> should be called afterwards, as this function does not call it. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3218c7faf072dd06cb3cfb1695e3e94b" name="a3218c7faf072dd06cb3cfb1695e3e94b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3218c7faf072dd06cb3cfb1695e3e94b">&#9670;&#160;</a></span>vstumplog_trace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vstumplog_trace </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>priority</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>func</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>message</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list</td>          <td class="paramname"><span class="paramname"><em>subs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs a message to the default target with the given priority, along with the file, line, and function information specified in a structured data element. </p>
<p>The trace information is added in an element named <code>trace</code> with params named <code>file</code>, <code>line</code>, and <code>function</code> for the respective pieces of information.</p>
<p>This function can serve as a replacement for the traditional <code>vsyslog</code> function.</p>
<p>For detailed information on what the default target will be for a given system, check the <a class="el" href="target_8h.html#a2f3182c5be6e3abd36759a3b00abf364" title="Gets the default target.">stumpless_get_default_target()</a> function documentation.</p>
<p><b>Thread Safety: MT-Safe env locale</b> This function is thread safe. Different target types handle thread safety differently, as some require per-target locks and others can rely on system libraries to log safely, but all targets support thread safe logging in some manner. For target-specific information on how thread safety is supported and whether AS or AC safety can be assumed, refer to the documentation for the target's header file (in the <code>stumpless/target</code> include folder). For all targets, the environment variables and locale will be used during some of the string formatting of the message.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers as some targets make use of non-reentrant locks to coordinate access. It also may make memory allocation calls to create internal cached structures, and memory allocation may not be signal safe.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of locks in some targets that could be left locked and the potential for memory allocation.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">priority</td><td>The priority of the message - this should be the bitwise or of a single STUMPLESS_SEVERITY and single STUMPLESS_FACILITY value.</td></tr>
    <tr><td class="paramname">file</td><td>The name of the source file the message should be tied to.</td></tr>
    <tr><td class="paramname">line</td><td>The line in the source file that the message should be tied to.</td></tr>
    <tr><td class="paramname">func</td><td>The name of the function that the message should be tied to.</td></tr>
    <tr><td class="paramname">message</td><td>The message to log, optionally containing any format specifiers valid in <code>printf</code>.</td></tr>
    <tr><td class="paramname">subs</td><td>Substitutions for any format specifiers provided in message. The number of substitutions provided must exactly match the number of specifiers given. This list must be started via <code>va_start</code> before being used, and <code>va_end</code> should be called afterwards, as this function does not call it. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_ba40c74cc7a9b9ece787ff31120c1693.html">stumpless</a></li><li class="navelem"><a class="el" href="log_8h.html">log.h</a></li>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
