<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>stumpless: stumpless/level/emerg.h 文件参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">stumpless<span id="projectnumber">&#160;2.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','搜索',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('emerg_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">宏定义</a>  </div>
  <div class="headertitle"><div class="title">emerg.h 文件参考</div></div>
</div><!--header-->
<div class="contents">

<p>Macro functions that log messages and entries at the emerg level.  
<a href="#details">更多...</a></p>

<p><a href="emerg_8h_source.html">浏览该文件的源代码.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
宏定义</h2></td></tr>
<tr class="memitem:a38bc8dd5598b0980ad7ed2ba62bbd5cc" id="r_a38bc8dd5598b0980ad7ed2ba62bbd5cc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a38bc8dd5598b0980ad7ed2ba62bbd5cc">stump_em</a>(...)</td></tr>
<tr class="memdesc:a38bc8dd5598b0980ad7ed2ba62bbd5cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs a message to the current target with emerg severity.  <br /></td></tr>
<tr class="separator:a38bc8dd5598b0980ad7ed2ba62bbd5cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27df58f15b77d5596276d275fcfc3d77" id="r_a27df58f15b77d5596276d275fcfc3d77"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a27df58f15b77d5596276d275fcfc3d77">stump_em_str</a>(message)</td></tr>
<tr class="memdesc:a27df58f15b77d5596276d275fcfc3d77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs a message to the current target with emerg severity.  <br /></td></tr>
<tr class="separator:a27df58f15b77d5596276d275fcfc3d77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3feebe848ef88b8b69266e7ab83e3b0b" id="r_a3feebe848ef88b8b69266e7ab83e3b0b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3feebe848ef88b8b69266e7ab83e3b0b">stump_em_entry</a>(target,  entry)&#160;&#160;&#160;<a class="el" href="target_8h.html#abcedd25dc109cde0d3f61266f1a60b14">stumpless_add_entry</a>( ( target ), ( entry ) )</td></tr>
<tr class="memdesc:a3feebe848ef88b8b69266e7ab83e3b0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds an entry to a given target with emerg severity.  <br /></td></tr>
<tr class="separator:a3feebe848ef88b8b69266e7ab83e3b0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ce150248203a2751bc952500897ea43" id="r_a0ce150248203a2751bc952500897ea43"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ce150248203a2751bc952500897ea43">stump_em_log</a>(target,  priority, ...)&#160;&#160;&#160;<a class="el" href="target_8h.html#af55fc1aefcedc8b207bbbcea7995bc0a">stumpless_add_log</a>( ( target ), ( priority ), __VA_ARGS__ )</td></tr>
<tr class="memdesc:a0ce150248203a2751bc952500897ea43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a message to a given target with the specified priority.  <br /></td></tr>
<tr class="separator:a0ce150248203a2751bc952500897ea43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e8d7cc256f698918f2208cc2df83e8a" id="r_a3e8d7cc256f698918f2208cc2df83e8a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3e8d7cc256f698918f2208cc2df83e8a">stump_em_log_str</a>(target,  priority,  message)&#160;&#160;&#160;<a class="el" href="target_8h.html#a0efdc194406c7b265fb3d3e934688634">stumpless_add_log_str</a>( ( target ), ( priority ), ( message ) )</td></tr>
<tr class="memdesc:a3e8d7cc256f698918f2208cc2df83e8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a message to a given target with the specified priority.  <br /></td></tr>
<tr class="separator:a3e8d7cc256f698918f2208cc2df83e8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcedeed0842af05c4726a4752eb41ff3" id="r_adcedeed0842af05c4726a4752eb41ff3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adcedeed0842af05c4726a4752eb41ff3">stump_em_message</a>(target, ...)</td></tr>
<tr class="memdesc:adcedeed0842af05c4726a4752eb41ff3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a message to a given target with emerg severity.  <br /></td></tr>
<tr class="separator:adcedeed0842af05c4726a4752eb41ff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c36200c15b5e0e9ca67769171ac1f90" id="r_a6c36200c15b5e0e9ca67769171ac1f90"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c36200c15b5e0e9ca67769171ac1f90">stump_em_message_str</a>(target,  message)</td></tr>
<tr class="memdesc:a6c36200c15b5e0e9ca67769171ac1f90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a message to a given target with emerg severity.  <br /></td></tr>
<tr class="separator:a6c36200c15b5e0e9ca67769171ac1f90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bbdce69751b6cbd3f364511394422b3" id="r_a1bbdce69751b6cbd3f364511394422b3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1bbdce69751b6cbd3f364511394422b3">stumplog_em</a>(priority, ...)&#160;&#160;&#160;<a class="el" href="log_8h.html#a020475261f73fba86caa8bb1f3d7f4df">stumplog</a>( ( priority ), __VA_ARGS__ )</td></tr>
<tr class="memdesc:a1bbdce69751b6cbd3f364511394422b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a message to the current target with the specified priority.  <br /></td></tr>
<tr class="separator:a1bbdce69751b6cbd3f364511394422b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b061c6e2e9e99d5bdc6e2a9a7085d92" id="r_a6b061c6e2e9e99d5bdc6e2a9a7085d92"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6b061c6e2e9e99d5bdc6e2a9a7085d92">stumplog_em_str</a>(priority,  message)&#160;&#160;&#160;<a class="el" href="log_8h.html#a3178cbf34f9ae41a043c8dbd52634387">stumplog_str</a>( ( priority ), ( message ) )</td></tr>
<tr class="memdesc:a6b061c6e2e9e99d5bdc6e2a9a7085d92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a message to the current target with the specified priority.  <br /></td></tr>
<tr class="separator:a6b061c6e2e9e99d5bdc6e2a9a7085d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>Macro functions that log messages and entries at the emerg level. </p>
<p>These can be turned into no-ops at compile time by defining STUMPLESS_DISABLE_EMERG_LEVEL during build, or at least before inclusion of this header (or <a class="el" href="stumpless_8h.html">stumpless.h</a>). </p>
</div><h2 class="groupheader">宏定义说明</h2>
<a id="a38bc8dd5598b0980ad7ed2ba62bbd5cc" name="a38bc8dd5598b0980ad7ed2ba62bbd5cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38bc8dd5598b0980ad7ed2ba62bbd5cc">&#9670;&#160;</a></span>stump_em</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define stump_em</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em></em></span>...</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>值:</b><div class="fragment"><div class="line"><a class="code hl_function" href="target_8h.html#af55fc1aefcedc8b207bbbcea7995bc0a">stumpless_add_log</a>( <a class="code hl_function" href="target_8h.html#a247739f99f8019b7f20c3aa56392b064">stumpless_get_current_target</a>(),                             \</div>
<div class="line">                   STUMPLESS_SEVERITY_EMERG |                    \</div>
<div class="line">                     <a class="code hl_define" href="config_8h.html#aa309f1ace201a2d29178c1b599fa06cd">STUMPLESS_DEFAULT_FACILITY</a>,                               \</div>
<div class="line">                   __VA_ARGS__ )</div>
<div class="ttc" id="aconfig_8h_html_aa309f1ace201a2d29178c1b599fa06cd"><div class="ttname"><a href="config_8h.html#aa309f1ace201a2d29178c1b599fa06cd">STUMPLESS_DEFAULT_FACILITY</a></div><div class="ttdeci">#define STUMPLESS_DEFAULT_FACILITY</div><div class="ttdoc">The facility code to use when one is not supplied.</div><div class="ttdef"><b>定义</b> config.h:43</div></div>
<div class="ttc" id="atarget_8h_html_a247739f99f8019b7f20c3aa56392b064"><div class="ttname"><a href="target_8h.html#a247739f99f8019b7f20c3aa56392b064">stumpless_get_current_target</a></div><div class="ttdeci">struct stumpless_target * stumpless_get_current_target(void)</div><div class="ttdoc">Gets the current target.</div></div>
<div class="ttc" id="atarget_8h_html_af55fc1aefcedc8b207bbbcea7995bc0a"><div class="ttname"><a href="target_8h.html#af55fc1aefcedc8b207bbbcea7995bc0a">stumpless_add_log</a></div><div class="ttdeci">int stumpless_add_log(struct stumpless_target *target, int priority, const char *message,...)</div><div class="ttdoc">Adds a log message with a priority to a given target.</div></div>
</div><!-- fragment -->
<p>Logs a message to the current target with emerg severity. </p>
<p>This function will be removed at compile time if STUMPLESS_DISABLE_EMERG_LEVEL has been defined during build. If it is disabled, then this function is removed at compile time and will have no effect. Otherwise, it is equivalent to a call to <a class="el" href="target_8h.html#af55fc1aefcedc8b207bbbcea7995bc0a">stumpless_add_log</a> with the provided message and calculated priority.</p>
<p>Note that if this function is disabled, then the arguments will not be evaluated, meaning that any side effects will not happen. Be sure that any side effects you rely on will not cause problems if they are left out during a build with emerg level calls disabled.</p>
<p>This function will log the given message with a severity of STUMPLESS_SEVERITY_EMERG, and the facility defined by the STUMPLESS_DEFAULT_FACILITY. If you wish to specify a different priority, then you will need to use <a class="el" href="#a1bbdce69751b6cbd3f364511394422b3">stumplog_em</a> instead.</p>
<p>The message must be a valid format specifier string provided along with the appropriate number of variable arguments afterwards. This means that it should not be a user-controlled value under any circumstances. If you need a safer alternative without the risks of format strings, use <a class="el" href="#a27df58f15b77d5596276d275fcfc3d77">stump_em_str</a> instead.</p>
<p><b>Thread Safety: MT-Safe env locale</b> This function is thread safe. Different target types handle thread safety differently, as some require per-target locks and others can rely on system libraries to log safely, but all targets support thread safe logging in some manner. For target-specific information on how thread safety is supported and whether AS or AC safety can be assumed, refer to the documentation for the target's header file (in the <code>stumpless/target</code> include folder).</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers as some targets make use of non-reentrant locks to coordinate access. It also may make memory allocation calls to create internal cached structures, and memory allocation may not be signal safe.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of locks in some targets that could be left locked and the potential for memory allocation.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">...</td><td>The message to log, optionally along with the values for any format specifiers valid in <code>printf</code>. This must be a valid UTF-8 string in shortest form.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>A non-negative value if no error is encountered. If an error is encountered, then a negative value is returned and an error code is set appropriately. If the function is disabled then the effective return value is zero, although a return value of zero does not guarantee that this function is disabled. </dd></dl>

</div>
</div>
<a id="a3feebe848ef88b8b69266e7ab83e3b0b" name="a3feebe848ef88b8b69266e7ab83e3b0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3feebe848ef88b8b69266e7ab83e3b0b">&#9670;&#160;</a></span>stump_em_entry</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define stump_em_entry</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>target</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>entry</em></span>&#160;)&#160;&#160;&#160;<a class="el" href="target_8h.html#abcedd25dc109cde0d3f61266f1a60b14">stumpless_add_entry</a>( ( target ), ( entry ) )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds an entry to a given target with emerg severity. </p>
<p>This function will be removed at compile time if STUMPLESS_DISABLE_EMERG_LEVEL has been defined during build. If it is disabled, then this function is removed at compile time and will have no effect. Otherwise, it is equivalent to a call to <a class="el" href="target_8h.html#abcedd25dc109cde0d3f61266f1a60b14">stumpless_add_entry</a> with the provided target and entry.</p>
<p>Note that if this function is disabled, then the arguments will not be evaluated, meaning that any side effects will not happen. Be sure that any side effects you rely on will not cause problems if they are left out during a build with emerg level calls disabled.</p>
<p>This call does not override the severity of the entry itself. Rather, it is intended to allow logging calls to be removed at compile time if the severity is known ahead of time.</p>
<p><b>Thread Safety: MT-Safe env locale</b> This function is thread safe. Different target types handle thread safety differently, as some require per-target locks and others can rely on system libraries to log safely, but all targets support thread safe logging in some manner. For target-specific information on how thread safety is supported and whether AS or AC safety can be assumed, refer to the documentation for the target's header file (in the <code>stumpless/target</code> include folder).</p>
<p><b>Async Signal Safety: AS-Unsafe lock</b> This function is not safe to call from signal handlers as some targets make use of non-reentrant locks to coordinate access.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of locks in some targets that could be left locked.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>The target to send the entry to.</td></tr>
    <tr><td class="paramname">entry</td><td>The entry to send to the target.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>A non-negative value if no error is encountered. If an error is encountered, then a negative value is returned and an error code is set appropriately. If the function is disabled then the effective return value is zero, although a return value of zero does not guarantee that this function is disabled. </dd></dl>

</div>
</div>
<a id="a0ce150248203a2751bc952500897ea43" name="a0ce150248203a2751bc952500897ea43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ce150248203a2751bc952500897ea43">&#9670;&#160;</a></span>stump_em_log</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define stump_em_log</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>target</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>priority</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em></em></span>...&#160;)&#160;&#160;&#160;<a class="el" href="target_8h.html#af55fc1aefcedc8b207bbbcea7995bc0a">stumpless_add_log</a>( ( target ), ( priority ), __VA_ARGS__ )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a message to a given target with the specified priority. </p>
<p>This function will be removed at compile time if STUMPLESS_DISABLE_EMERG_LEVEL has been defined during build. If it is disabled, then this function is removed at compile time and will have no effect. Otherwise, it is equivalent to a call to stumplog with the provided message and priority.</p>
<p>Note that if this function is disabled, then the arguments will not be evaluated, meaning that any side effects will not happen. Be sure that any side effects you rely on will not cause problems if they are left out during a build with emerg level calls disabled.</p>
<p>The message must be a valid format specifier string provided along with the appropriate number of variable arguments afterwards. This means that it should not be a user-controlled value under any circumstances. If you need a safer alternative without the risks of format strings, use <a class="el" href="#a3e8d7cc256f698918f2208cc2df83e8a">stump_em_log_str</a> instead.</p>
<p><b>Thread Safety: MT-Safe env locale</b> This function is thread safe. Different target types handle thread safety differently, as some require per-target locks and others can rely on system libraries to log safely, but all targets support thread safe logging in some manner. For target-specific information on how thread safety is supported and whether AS or AC safety can be assumed, refer to the documentation for the target's header file (in the <code>stumpless/target</code> include folder).</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers as some targets make use of non-reentrant locks to coordinate access. It also may make memory allocation calls to create internal cached structures, and memory allocation may not be signal safe.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of locks in some targets that could be left locked and the potential for memory allocation.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>The target to send the entry to.</td></tr>
    <tr><td class="paramname">priority</td><td>The priority of the message - this should be the bitwise or of a single STUMPLESS_SEVERITY and single STUMPLESS_FACILITY value.</td></tr>
    <tr><td class="paramname">...</td><td>The message to log, optionally along with the values for any format specifiers valid in <code>printf</code>. This must be a valid UTF-8 string in shortest form.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>A non-negative value if no error is encountered. If an error is encountered, then a negative value is returned and an error code is set appropriately. If the function is disabled then the effective return value is zero, although a return value of zero does not guarantee that this function is disabled. </dd></dl>

</div>
</div>
<a id="a3e8d7cc256f698918f2208cc2df83e8a" name="a3e8d7cc256f698918f2208cc2df83e8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e8d7cc256f698918f2208cc2df83e8a">&#9670;&#160;</a></span>stump_em_log_str</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define stump_em_log_str</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>target</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>priority</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>message</em></span>&#160;)&#160;&#160;&#160;<a class="el" href="target_8h.html#a0efdc194406c7b265fb3d3e934688634">stumpless_add_log_str</a>( ( target ), ( priority ), ( message ) )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a message to a given target with the specified priority. </p>
<p>This function will be removed at compile time if STUMPLESS_DISABLE_EMERG_LEVEL has been defined during build. If it is disabled, then this function is removed at compile time and will have no effect. Otherwise, it is equivalent to a call to <a class="el" href="#a3e8d7cc256f698918f2208cc2df83e8a">stump_em_log_str</a> with the provided target, message, and priority.</p>
<p>Note that if this function is disabled, then the arguments will not be evaluated, meaning that any side effects will not happen. Be sure that any side effects you rely on will not cause problems if they are left out during a build with emerg level calls disabled.</p>
<p><b>Thread Safety: MT-Safe env locale</b> This function is thread safe. Different target types handle thread safety differently, as some require per-target locks and others can rely on system libraries to log safely, but all targets support thread safe logging in some manner. For target-specific information on how thread safety is supported and whether AS or AC safety can be assumed, refer to the documentation for the target's header file (in the <code>stumpless/target</code> include folder).</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers as some targets make use of non-reentrant locks to coordinate access. It also may make memory allocation calls to create internal cached structures, and memory allocation may not be signal safe.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of locks in some targets that could be left locked and the potential for memory allocation.</p>
<dl class="section since"><dt>自从</dt><dd>release v2.1.0.</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>The target to send the entry to.</td></tr>
    <tr><td class="paramname">priority</td><td>The priority of the message - this should be the bitwise or of a single STUMPLESS_SEVERITY and single STUMPLESS_FACILITY value.</td></tr>
    <tr><td class="paramname">message</td><td>The message to log. This must be a valid UTF-8 string in shortest form.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>A non-negative value if no error is encountered. If an error is encountered, then a negative value is returned and an error code is set appropriately. If the function is disabled then the effective return value is zero, although a return value of zero does not guarantee that this function is disabled. </dd></dl>

</div>
</div>
<a id="adcedeed0842af05c4726a4752eb41ff3" name="adcedeed0842af05c4726a4752eb41ff3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcedeed0842af05c4726a4752eb41ff3">&#9670;&#160;</a></span>stump_em_message</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define stump_em_message</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>target</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em></em></span>...&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>值:</b><div class="fragment"><div class="line"><a class="code hl_function" href="target_8h.html#af55fc1aefcedc8b207bbbcea7995bc0a">stumpless_add_log</a>( ( target ),                                                 \</div>
<div class="line">                   <a class="code hl_define" href="config_8h.html#aa309f1ace201a2d29178c1b599fa06cd">STUMPLESS_DEFAULT_FACILITY</a> |                                \</div>
<div class="line">                     STUMPLESS_SEVERITY_EMERG,                   \</div>
<div class="line">                   __VA_ARGS__ )</div>
</div><!-- fragment -->
<p>Adds a message to a given target with emerg severity. </p>
<p>This function will be removed at compile time if STUMPLESS_DISABLE_EMERG_LEVEL has been defined during build. If it is disabled, then this function is removed at compile time and will have no effect. Otherwise, it is equivalent to a call to <a class="el" href="target_8h.html#af55fc1aefcedc8b207bbbcea7995bc0a">stumpless_add_log</a> with the provided message and calculated priority.</p>
<p>Note that if this function is disabled, then the arguments will not be evaluated, meaning that any side effects will not happen. Be sure that any side effects you rely on will not cause problems if they are left out during a build with emerg level calls disabled.</p>
<p>This function will log the given message with a severity of STUMPLESS_SEVERITY_EMERG, and the facility defined by the STUMPLESS_DEFAULT_FACILITY. If you wish to specify a different priority, then you will need to use stump_em_log instead.</p>
<p>The message must be a valid format specifier string provided along with the appropriate number of variable arguments afterwards. This means that it should not be a user-controlled value under any circumstances. If you need a safer alternative without the risks of format strings, use <a class="el" href="#a6c36200c15b5e0e9ca67769171ac1f90">stump_em_message_str</a> instead.</p>
<p><b>Thread Safety: MT-Safe env locale</b> This function is thread safe. Different target types handle thread safety differently, as some require per-target locks and others can rely on system libraries to log safely, but all targets support thread safe logging in some manner. For target-specific information on how thread safety is supported and whether AS or AC safety can be assumed, refer to the documentation for the target's header file (in the <code>stumpless/target</code> include folder).</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers as some targets make use of non-reentrant locks to coordinate access. It also may make memory allocation calls to create internal cached structures, and memory allocation may not be signal safe.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of locks in some targets that could be left locked and the potential for memory allocation.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>The target to send the entry to.</td></tr>
    <tr><td class="paramname">...</td><td>The message to log, optionally along with the values for any format specifiers valid in <code>printf</code>. This must be a valid UTF-8 string in shortest form.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>A non-negative value if no error is encountered. If an error is encountered, then a negative value is returned and an error code is set appropriately. If the function is disabled then the effective return value is zero, although a return value of zero does not guarantee that this function is disabled. </dd></dl>

</div>
</div>
<a id="a6c36200c15b5e0e9ca67769171ac1f90" name="a6c36200c15b5e0e9ca67769171ac1f90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c36200c15b5e0e9ca67769171ac1f90">&#9670;&#160;</a></span>stump_em_message_str</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define stump_em_message_str</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>target</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>值:</b><div class="fragment"><div class="line"><a class="code hl_function" href="target_8h.html#a0efdc194406c7b265fb3d3e934688634">stumpless_add_log_str</a>( ( target ),                                             \</div>
<div class="line">                       <a class="code hl_define" href="config_8h.html#aa309f1ace201a2d29178c1b599fa06cd">STUMPLESS_DEFAULT_FACILITY</a> |                            \</div>
<div class="line">                         STUMPLESS_SEVERITY_EMERG,               \</div>
<div class="line">                       ( message ) )</div>
<div class="ttc" id="atarget_8h_html_a0efdc194406c7b265fb3d3e934688634"><div class="ttname"><a href="target_8h.html#a0efdc194406c7b265fb3d3e934688634">stumpless_add_log_str</a></div><div class="ttdeci">int stumpless_add_log_str(struct stumpless_target *target, int priority, const char *message)</div><div class="ttdoc">Adds a log message with a priority to a given target.</div></div>
</div><!-- fragment -->
<p>Adds a message to a given target with emerg severity. </p>
<p>This function will be removed at compile time if STUMPLESS_DISABLE_EMERG_LEVEL has been defined during build. If it is disabled, then this function is removed at compile time and will have no effect. Otherwise, it is equivalent to a call to <a class="el" href="target_8h.html#a0efdc194406c7b265fb3d3e934688634">stumpless_add_log_str</a> with the provided target and message.</p>
<p>Note that if this function is disabled, then the arguments will not be evaluated, meaning that any side effects will not happen. Be sure that any side effects you rely on will not cause problems if they are left out during a build with emerg level calls disabled.</p>
<p>This function will log the given message with a severity of STUMPLESS_SEVERITY_EMERG, and the facility defined by the STUMPLESS_DEFAULT_FACILITY. If you wish to specify a different priority, then you will need to use <a class="el" href="#a0ce150248203a2751bc952500897ea43">stump_em_log</a> instead.</p>
<p><b>Thread Safety: MT-Safe env locale</b> This function is thread safe. Different target types handle thread safety differently, as some require per-target locks and others can rely on system libraries to log safely, but all targets support thread safe logging in some manner. For target-specific information on how thread safety is supported and whether AS or AC safety can be assumed, refer to the documentation for the target's header file (in the <code>stumpless/target</code> include folder).</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers as some targets make use of non-reentrant locks to coordinate access. It also may make memory allocation calls to create internal cached structures, and memory allocation may not be signal safe.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of locks in some targets that could be left locked and the potential for memory allocation.</p>
<dl class="section since"><dt>自从</dt><dd>release v2.1.0.</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>The target to send the entry to.</td></tr>
    <tr><td class="paramname">message</td><td>The message to log. This must be a valid UTF-8 string in shortest form.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>A non-negative value if no error is encountered. If an error is encountered, then a negative value is returned and an error code is set appropriately. If the function is disabled then the effective return value is zero, although a return value of zero does not guarantee that this function is disabled. </dd></dl>

</div>
</div>
<a id="a27df58f15b77d5596276d275fcfc3d77" name="a27df58f15b77d5596276d275fcfc3d77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27df58f15b77d5596276d275fcfc3d77">&#9670;&#160;</a></span>stump_em_str</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define stump_em_str</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>message</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>值:</b><div class="fragment"><div class="line"><a class="code hl_function" href="target_8h.html#a0efdc194406c7b265fb3d3e934688634">stumpless_add_log_str</a>( <a class="code hl_function" href="target_8h.html#a247739f99f8019b7f20c3aa56392b064">stumpless_get_current_target</a>(  ),                       \</div>
<div class="line">                       STUMPLESS_SEVERITY_EMERG |                \</div>
<div class="line">                         <a class="code hl_define" href="config_8h.html#aa309f1ace201a2d29178c1b599fa06cd">STUMPLESS_DEFAULT_FACILITY</a>,                           \</div>
<div class="line">                       ( message ) )</div>
</div><!-- fragment -->
<p>Logs a message to the current target with emerg severity. </p>
<p>This function will be removed at compile time if STUMPLESS_DISABLE_EMERG_LEVEL has been defined during build. If it is disabled, then this function is removed at compile time and will have no effect. Otherwise, it is equivalent to a call to <a class="el" href="target_8h.html#af55fc1aefcedc8b207bbbcea7995bc0a">stumpless_add_log</a> with the provided message and calculated priority.</p>
<p>Note that if this function is disabled, then the arguments will not be evaluated, meaning that any side effects will not happen. Be sure that any side effects you rely on will not cause problems if they are left out during a build with emerg level calls disabled.</p>
<p>This function will log the given message with a severity of STUMPLESS_SEVERITY_EMERG, and the facility defined by the STUMPLESS_DEFAULT_FACILITY. If you wish to specify a different priority, then you will need to use stumplog_em instead.</p>
<p><b>Thread Safety: MT-Safe env locale</b> This function is thread safe. Different target types handle thread safety differently, as some require per-target locks and others can rely on system libraries to log safely, but all targets support thread safe logging in some manner. For target-specific information on how thread safety is supported and whether AS or AC safety can be assumed, refer to the documentation for the target's header file (in the <code>stumpless/target</code> include folder).</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers as some targets make use of non-reentrant locks to coordinate access. It also may make memory allocation calls to create internal cached structures, and memory allocation may not be signal safe.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of locks in some targets that could be left locked and the potential for memory allocation.</p>
<dl class="section since"><dt>自从</dt><dd>release v2.1.0.</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The message to log. This must be a valid UTF-8 string in shortest form.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>A non-negative value if no error is encountered. If an error is encountered, then a negative value is returned and an error code is set appropriately. If the function is disabled then the effective return value is zero, although a return value of zero does not guarantee that this function is disabled. </dd></dl>

</div>
</div>
<a id="a1bbdce69751b6cbd3f364511394422b3" name="a1bbdce69751b6cbd3f364511394422b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bbdce69751b6cbd3f364511394422b3">&#9670;&#160;</a></span>stumplog_em</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define stumplog_em</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>priority</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em></em></span>...&#160;)&#160;&#160;&#160;<a class="el" href="log_8h.html#a020475261f73fba86caa8bb1f3d7f4df">stumplog</a>( ( priority ), __VA_ARGS__ )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a message to the current target with the specified priority. </p>
<p>This function will be removed at compile time if STUMPLESS_DISABLE_EMERG_LEVEL has been defined during build. If it is disabled, then this function is removed at compile time and will have no effect. Otherwise, it is equivalent to a call to <a class="el" href="log_8h.html#a020475261f73fba86caa8bb1f3d7f4df">stumplog</a> with the provided priority and message.</p>
<p>Note that if this function is disabled, then the arguments will not be evaluated, meaning that any side effects will not happen. Be sure that any side effects you rely on will not cause problems if they are left out during a build with emerg level calls disabled.</p>
<p>The message must be a valid format specifier string provided along with the appropriate number of variable arguments afterwards. This means that it should not be a user-controlled value under any circumstances. If you need a safer alternative without the risks of format strings, use <a class="el" href="#a6b061c6e2e9e99d5bdc6e2a9a7085d92">stumplog_em_str</a> instead.</p>
<p><b>Thread Safety: MT-Safe env locale</b> This function is thread safe. Different target types handle thread safety differently, as some require per-target locks and others can rely on system libraries to log safely, but all targets support thread safe logging in some manner. For target-specific information on how thread safety is supported and whether AS or AC safety can be assumed, refer to the documentation for the target's header file (in the <code>stumpless/target</code> include folder).</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers as some targets make use of non-reentrant locks to coordinate access. It also may make memory allocation calls to create internal cached structures, and memory allocation may not be signal safe.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of locks in some targets that could be left locked and the potential for memory allocation.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">priority</td><td>The priority of the message - this should be the bitwise or of a single STUMPLESS_SEVERITY and single STUMPLESS_FACILITY value.</td></tr>
    <tr><td class="paramname">...</td><td>The message to log, optionally along with the values for any format specifiers valid in <code>printf</code>. This must be a valid UTF-8 string in shortest form. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6b061c6e2e9e99d5bdc6e2a9a7085d92" name="a6b061c6e2e9e99d5bdc6e2a9a7085d92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b061c6e2e9e99d5bdc6e2a9a7085d92">&#9670;&#160;</a></span>stumplog_em_str</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define stumplog_em_str</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>priority</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>message</em></span>&#160;)&#160;&#160;&#160;<a class="el" href="log_8h.html#a3178cbf34f9ae41a043c8dbd52634387">stumplog_str</a>( ( priority ), ( message ) )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a message to the current target with the specified priority. </p>
<p>This function will be removed at compile time if STUMPLESS_DISABLE_EMERG_LEVEL has been defined during build. If it is disabled, then this function is removed at compile time and will have no effect. Otherwise, it is equivalent to a call to <a class="el" href="log_8h.html#a3178cbf34f9ae41a043c8dbd52634387">stumplog_str</a> with the provided message and calculated priority.</p>
<p>Note that if this function is disabled, then the arguments will not be evaluated, meaning that any side effects will not happen. Be sure that any side effects you rely on will not cause problems if they are left out during a build with emerg level calls disabled.</p>
<p><b>Thread Safety: MT-Safe env locale</b> This function is thread safe. Different target types handle thread safety differently, as some require per-target locks and others can rely on system libraries to log safely, but all targets support thread safe logging in some manner. For target-specific information on how thread safety is supported and whether AS or AC safety can be assumed, refer to the documentation for the target's header file (in the <code>stumpless/target</code> include folder).</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers as some targets make use of non-reentrant locks to coordinate access. It also may make memory allocation calls to create internal cached structures, and memory allocation may not be signal safe.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of locks in some targets that could be left locked and the potential for memory allocation.</p>
<dl class="section since"><dt>自从</dt><dd>release v2.1.0.</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">priority</td><td>The priority of the message - this should be the bitwise or of a single STUMPLESS_SEVERITY and single STUMPLESS_FACILITY value.</td></tr>
    <tr><td class="paramname">message</td><td>The message to log. This must be a valid UTF-8 string in shortest form. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_ba40c74cc7a9b9ece787ff31120c1693.html">stumpless</a></li><li class="navelem"><a class="el" href="dir_1fda66c73a833dbb461a46585b2bca14.html">level</a></li><li class="navelem"><a class="el" href="emerg_8h.html">emerg.h</a></li>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
