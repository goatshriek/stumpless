---
title: C Documentation
keywords: stumpless, logging, library, c, doxygen
last_updated: October 10, 2022
summary: "Documentation for the latest version of Stumpless."
permalink: docs/c/latest/index.html
---
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.19"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>stumpless: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">stumpless
   &#160;<span id="projectnumber">2.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.19 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">stumpless Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__mnt_c_users_reall_code_stumpless_README"></a><img src="assets/logo-and-name.png" alt="Stumpless logo" class="inline"/></p>
<p><b>A C logging library built for high performance and a rich feature set.</b></p>
<p><a href="https://github.com/goatshriek/stumpless/actions/workflows/linux.yml"><img src="https://github.com/goatshriek/stumpless/actions/workflows/linux.yml/badge.svg" alt="Linux Builds" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/goatshriek/stumpless/actions/workflows/windows.yml"><img src="https://github.com/goatshriek/stumpless/actions/workflows/windows.yml/badge.svg" alt="Windows Builds" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/goatshriek/stumpless/actions/workflows/mac.yml"><img src="https://github.com/goatshriek/stumpless/actions/workflows/mac.yml/badge.svg" alt="Mac Builds" style="pointer-events: none;" class="inline"/></a> <a href="https://codecov.io/gh/goatshriek/stumpless"><img src="https://codecov.io/gh/goatshriek/stumpless/branch/latest/graph/badge.svg" alt="Coverage Report" style="pointer-events: none;" class="inline"/></a> <a href="https://sonarcloud.io/dashboard?id=stumpless"><img src="https://sonarcloud.io/api/project_badges/measure?project=stumpless&amp;metric=alert_status" alt="SonarCloud Status" class="inline"/></a> <a href="https://gitter.im/stumpless/community?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge"><img src="https://badges.gitter.im/stumpless/community.svg" alt="Gitter" style="pointer-events: none;" class="inline"/></a> <a href="https://opensource.org/licenses/Apache-2.0"><img src="https://img.shields.io/badge/license-Apache%202.0-blue.svg" alt="Apache 2.0 License" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/goatshriek/stumpless/blob/latest/docs/CODE_OF_CONDUCT.md"><img src="https://img.shields.io/badge/Contributor%20Covenant-v2.1-ff69b4.svg" alt="Contributor Covenant" style="pointer-events: none;" class="inline"/></a></p>
<p><a href="#key-features">Key Features</a> | <a href="#quick-build-and-install">Download and Build</a> | <a href="#basic-usage">Basic Usage</a> | <a href="#contributing">Contributing</a></p>
<h2><a class="anchor" id="autotoc_md0"></a>
Key Features</h2>
<p>Stumpless offers a robust set of features to make logging in C faster and easier:</p><ul>
<li>structured and unstructured logging to suit your needs</li>
<li>easy logging to <a href="#what-can-it-log-to">lots of things</a> like Splunk, rsyslog, journald, the Windows Event Log, and more!</li>
<li>interoperable with common log daemons and libraries</li>
<li>cross-platform builds on Linux, Windows, Mac, Cygwin, and more</li>
<li>completely thread safe</li>
<li>can be adjusted or removed during compilation for zero runtime impact</li>
<li>localized for multiple languages &#127463;&#127468; &#127464;&#127487; &#127465;&#127466; &#127466;&#127480; &#127467;&#127479; &#127470;&#127481; &#127477;&#127473; &#127480;&#127466; &#127480;&#127472; &#127482;&#127480; &#127468;&#127479; (<a href="https://github.com/goatshriek/stumpless/blob/latest/docs/localization.md">add yours!</a>)</li>
<li>easy-access <a href="https://goatshriek.github.io/stumpless/docs/c/latest/index.html">documentation</a>, <a href="https://github.com/goatshriek/stumpless/tree/latest/docs/examples">examples</a>, and <a href="https://gitter.im/stumpless/community">support</a>.</li>
</ul>
<h3><a class="anchor" id="autotoc_md1"></a>
What can it log to?</h3>
<p>A primary goal of this library is to provide a consistent logging interface to a wide variety of log targets. This means you can focus on defining events and where you want them to go, without finding other SDKs or adding daemons and plugins to get them where you want. Stumpless can write logs to:</p><ul>
<li>Simple character buffers</li>
<li>Files and Streams</li>
<li>Unix sockets (such as a local syslog daemon)</li>
<li>Network Servers (IPv4 or IPv6, TCP or UDP)</li>
<li>Systemd Journald Service</li>
<li>Windows Event Log</li>
<li>Custom functions, for whatever else you may need!</li>
</ul>
<p>Don't see what you need? Create an <a href="https://github.com/goatshriek/stumpless/issues/new?template=feature_request.md">issue</a> with your request and we'll work it into our <a href="https://github.com/goatshriek/stumpless/blob/latest/docs/roadmap.md">roadmap</a>!</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Quick Build and Install</h2>
<p>Stumpless only requires cmake and a cmake-supported build toolchain (like GCC or Visual Studio) to build. For a system using the standard GNU make toolchain, you can simply do:</p>
<div class="fragment"><div class="line"># cloning the latest version of the source tree</div>
<div class="line">git clone git@github.com:goatshriek/stumpless.git</div>
<div class="line"> </div>
<div class="line"># creating a new build directory</div>
<div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line"> </div>
<div class="line"># configuring the new build</div>
<div class="line">cmake ../stumpless</div>
<div class="line"> </div>
<div class="line"># building stumpless (with 4 threads - adjust as desired)</div>
<div class="line">make -j 4 all</div>
<div class="line"> </div>
<div class="line"># install the library (you probably need sudo to do this)</div>
<div class="line">sudo make install</div>
</div><!-- fragment --><p>Check out the Installation Instructions for more detail on building and installing stumpless in different environments and/or with other toolchains.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Basic Usage</h2>
<p>The following code snippets show the most common ways to use stumpless.</p>
<h3><a class="anchor" id="autotoc_md4"></a>
Basic Logging Functions</h3>
<p>The simplest way to get started is to use the <code>stumplog</code> function as a direct replacement for the standard library's <code>syslog</code> function:</p>
<div class="fragment"><div class="line"><span class="comment">// if you&#39;re used to doing this:</span></div>
<div class="line">syslog( LOG_INFO | LOG_USER, <span class="stringliteral">&quot;My message #%d&quot;</span>, <a class="code" href="wel__supported_8h.html#a25887517a6aa3f9cb2546327c8247a1e">count</a> );</div>
<div class="line"> </div>
<div class="line"><span class="comment">// then you can start doing this:</span></div>
<div class="line">stumplog( LOG_INFO | LOG_USER, <span class="stringliteral">&quot;My message #%d&quot;</span>, <a class="code" href="wel__supported_8h.html#a25887517a6aa3f9cb2546327c8247a1e">count</a> );</div>
</div><!-- fragment --><p>If you haven't opened a target, this will log messages to the default target for the platform: on Linux this is <code>/dev/log</code>, on a Mac system this will be <code>/var/run/syslog</code>, and on a Windows machine it is the Windows Event Log. If you open a target or a few before calling <code>stumplog</code>, then logs will be sent to the most recently opened target.</p>
<p>If you want an even shorter function call, you can use the <code>stump</code> function to send a message to the current target:</p>
<div class="fragment"><div class="line">stump( <span class="stringliteral">&quot;My message #%d&quot;</span>, <a class="code" href="wel__supported_8h.html#a25887517a6aa3f9cb2546327c8247a1e">count</a> );</div>
</div><!-- fragment --><p>And of course, you can use format specifiers in both functions just as you would with <code>printf</code>:</p>
<div class="fragment"><div class="line">stump( <span class="stringliteral">&quot;Login attempt failure #%d for user %s&quot;</span>, <a class="code" href="wel__supported_8h.html#a25887517a6aa3f9cb2546327c8247a1e">count</a>, username );</div>
</div><!-- fragment --><p>If you don't need format specifiers, use one of the <code>_str</code> variants: it's both faster and safer!</p>
<div class="fragment"><div class="line">stump_str( <span class="stringliteral">&quot;Login failure! See structured data for info.&quot;</span> );</div>
</div><!-- fragment --><p>If you want to open a specific target rather than using the default, then just open the target that you need and start sending messages. For example, to log to a file named <code>example.log</code>:</p>
<div class="fragment"><div class="line">target = stumpless_open_file_target( <span class="stringliteral">&quot;example.log&quot;</span> );</div>
<div class="line"> </div>
<div class="line"><span class="comment">// uses the last opened target by default</span></div>
<div class="line">stump( <span class="stringliteral">&quot;Login attempt failure #%d for user %s&quot;</span>, <a class="code" href="wel__supported_8h.html#a25887517a6aa3f9cb2546327c8247a1e">count</a>, username );</div>
</div><!-- fragment --><p>Sending messages over the network to something like Splunk or rsyslog is just as easy:</p>
<div class="fragment"><div class="line">target = stumpless_open_udp4_target( <span class="stringliteral">&quot;send-to-splunk-example&quot;</span>,</div>
<div class="line">                                     <span class="stringliteral">&quot;mylogserver.com&quot;</span> ); <span class="comment">// or use an IP</span></div>
<div class="line">stump( <span class="stringliteral">&quot;Login attempt failure #%d for user %s&quot;</span>, <a class="code" href="wel__supported_8h.html#a25887517a6aa3f9cb2546327c8247a1e">count</a>, username );</div>
</div><!-- fragment --><p>If you have multiple targets, you can send messages to a chosen target like this:</p>
<div class="fragment"><div class="line">stumpless_add_message( target,</div>
<div class="line">                       <span class="stringliteral">&quot;Login attempt failure #%d for user %s&quot;</span>,</div>
<div class="line">                       <a class="code" href="wel__supported_8h.html#a25887517a6aa3f9cb2546327c8247a1e">count</a>,</div>
<div class="line">                       username );</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md5"></a>
Severity Shorthand</h3>
<p>It's common to specify severity levels directly in logging calls, so stumpless provides some macro functions to make this less verbose and more efficient. For example, to log messages with a severity of INFO, you can do this:</p>
<div class="fragment"><div class="line"><a class="code" href="info_8h.html#a17d6fc25c971a6c4ac3bd02c14ba48a5">stump_i</a>( <span class="stringliteral">&quot;this gets logged as an info message&quot;</span> );</div>
</div><!-- fragment --><p>And if you want to also see source file, line number, and function name info in each message you can do this:</p>
<div class="fragment"><div class="line"><a class="code" href="trace_8h.html#ae3ad5ff07400cb584c62e2077ef973eb">stump_t</a>( <span class="stringliteral">&quot;this is easy to trace to the source&quot;</span> );</div>
</div><!-- fragment --><p>Using these functions has the added benefit that they can be removed at compile time by simply defining the <code>STUMPLESS_ENABLE_UPTO</code> or <code>STUMPLESS_DISABLE_DOWNTO</code> symbols. This makes it easy to change logging levels between builds, for example to have prod and debug versions without differences in their source code.</p>
<div class="fragment"><div class="line"><span class="comment">// be sure to define this before stumpless.h gets included</span></div>
<div class="line"><span class="preprocessor">#define STUMPLESS_ENABLE_UPTO_INFO</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// this log will go through just fine</span></div>
<div class="line"><a class="code" href="info_8h.html#a17d6fc25c971a6c4ac3bd02c14ba48a5">stump_i</a>( <span class="stringliteral">&quot;I&#39;m doing that thing you asked&quot;</span> );</div>
<div class="line"> </div>
<div class="line"><span class="comment">// this debugging message is completely removed: no runtime impact whatsoever</span></div>
<div class="line"><a class="code" href="debug_8h.html#a88301d0241ec06830d9cb1d6c43efaaa">stump_d</a>( <span class="stringliteral">&quot;DEBUG info: %d, %d, %s&quot;</span>, thing_1, thing_2, stringy_thingy );</div>
</div><!-- fragment --><p>Check out the headers in <a href="include/stumpless/level">stumpless/level</a> to see the full list of severity shorthand functions, or the <a href="docs/examples/severity_level">severity level example</a> to see a complete program in action.</p>
<h3><a class="anchor" id="autotoc_md6"></a>
Even more examples</h3>
<p>For more detailed examples of the above scenarios, usage of specific target types, how to handle more complicated message structures, and more check out the <a href="docs/examples">examples</a>. These include annoted example code files to compile, run, and modify to get you started.</p>
<h2><a class="anchor" id="autotoc_md7"></a>
Contributing</h2>
<p>Notice a problem or have a feature request? Just create an issue using one of the templates, and we will respond as quickly as we can. You can also look at the project's Contribution Guidelines for more details on the different ways you can give back to the open source community!</p>
<p>If you want to actually write some code or make an update yourself, take a look at the development guide to get a detailed orientation. There are a few options based on your level of experience and familiarity with making contributions.</p>
<p>The first option is to browse the list of issues that are marked with the label <a href="https://github.com/goatshriek/stumpless/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22">good first issue</a>. These issues are selected to be a small but meaningful amount of work, and include details on the general approach that you can take to complete them. They are a great place to start if you are just looking to test the waters of this project or open source contribution in general.</p>
<p>More experienced developers may prefer to look at the full list of issues on the project, as well as the <a href="https://github.com/goatshriek/stumpless/blob/latest/docs/roadmap.md">roadmap</a>. If an item catches your interest, drop a comment in the existing issue or open a new one if it doesn't exist yet and state your intent to work on it so that others will have a way to know it is underway.</p>
<p>Or perhaps you are just looking for a way to say thanks! If that's the case or if there is something that you would prefer to drop me a private message about, please feel free to do so on Twitter with <a href="https://twitter.com/search?q=%23StumplessLib">#StumplessLib</a>, or in an <a href="#" onclick="location.href='mai'+'lto:'+'joe'+'la'+'nde'+'rs'+'on3'+'33'+'@gm'+'ai'+'l.c'+'om'; return false;">email</a>! I'd love to see you share the project with others or just hear your thoughts on it.</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Further Documentation</h2>
<p>If you're curious about how something in stumpless works that isn't explained here, you can check the appropriate section of the documentation, stored in the docs folder of the repository. Folders in the repository contain their own README files that detail what they contain and any other relevant information. If you still can't find an answer, submit an issue or head over to <a href="https://gitter.im/stumpless/community">gitter</a> and ask for some help. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<div class="ttc" id="ainfo_8h_html_a17d6fc25c971a6c4ac3bd02c14ba48a5"><div class="ttname"><a href="info_8h.html#a17d6fc25c971a6c4ac3bd02c14ba48a5">stump_i</a></div><div class="ttdeci">#define stump_i(...)</div><div class="ttdoc">Logs a message to the current target with informational severity.</div><div class="ttdef"><b>Definition:</b> info.h:100</div></div>
<div class="ttc" id="atrace_8h_html_ae3ad5ff07400cb584c62e2077ef973eb"><div class="ttname"><a href="trace_8h.html#ae3ad5ff07400cb584c62e2077ef973eb">stump_t</a></div><div class="ttdeci">#define stump_t(...)</div><div class="ttdoc">Logs a message to the current target with debug severity, along with the file, line,...</div><div class="ttdef"><b>Definition:</b> trace.h:109</div></div>
<div class="ttc" id="adebug_8h_html_a88301d0241ec06830d9cb1d6c43efaaa"><div class="ttname"><a href="debug_8h.html#a88301d0241ec06830d9cb1d6c43efaaa">stump_d</a></div><div class="ttdeci">#define stump_d(...)</div><div class="ttdoc">Logs a message to the current target with debug severity.</div><div class="ttdef"><b>Definition:</b> debug.h:100</div></div>
<div class="ttc" id="awel__supported_8h_html_a25887517a6aa3f9cb2546327c8247a1e"><div class="ttname"><a href="wel__supported_8h.html#a25887517a6aa3f9cb2546327c8247a1e">count</a></div><div class="ttdeci">WORD count</div><div class="ttdef"><b>Definition:</b> wel_supported.h:808</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Oct 10 2022 21:47:45 for stumpless by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.19
</small></address>
</body>
</html>
